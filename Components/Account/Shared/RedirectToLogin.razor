@inject NavigationManager NavigationManager

@code {
    protected override void OnInitialized()
    {
        var relative = NavigationManager.ToBaseRelativePath(NavigationManager.Uri);
        if (string.IsNullOrWhiteSpace(relative))
            relative = "/";

        // Ensure it starts with '/'
        if (!relative.StartsWith('/'))
            relative = "/" + relative;

        NavigationManager.NavigateTo(
            $"/Account/Login?returnUrl={Uri.EscapeDataString(relative)}"
        );
    }
}
